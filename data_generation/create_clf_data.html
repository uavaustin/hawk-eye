

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>hawk_eye.data_generation.create_clf_data &mdash; hawk-eye 0.0.2b0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hawk_eye.data_generation.create_detection_data" href="create_detection_data.html" />
    <link rel="prev" title="hawk_eye.core.detector" href="../core/detector.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> hawk-eye
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/setup.html">Setup</a></li>
</ul>
<p class="caption"><span class="caption-text">Core</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core/asset_manager.html">hawk_eye.core.asset_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/classifier.html">hawk_eye.core.classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/detector.html">hawk_eye.core.detector</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Generation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">hawk_eye.data_generation.create_clf_data</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_detection_data.html">hawk_eye.data_generation.create_detection_data</a></li>
</ul>
<p class="caption"><span class="caption-text">Training</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../training.html">Training</a></li>
</ul>
<p class="caption"><span class="caption-text">Inference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../inference/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inference/benchmark_inference.html">hawk_eye.inference.benchmark_inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inference/find_targets.html">hawk_eye.inference.find_targets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inference/production_models.html">hawk_eye.inference.production_models</a></li>
</ul>
<p class="caption"><span class="caption-text">Distribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../distribution.html">Distribution</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tests.html">Tests</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hawk-eye</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>hawk_eye.data_generation.create_clf_data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/uavaustin/hawk-eye/blob/master/docs/data_generation/create_clf_data.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hawk-eye-data-generation-create-clf-data">
<h1>hawk_eye.data_generation.create_clf_data<a class="headerlink" href="#hawk-eye-data-generation-create-clf-data" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-hawk_eye.data_generation.create_clf_data"></span><p>This script creates classification data for the pre-detection classification step;
however, this script relies upon detection already existing. Also, we need to ensure our
output dataset does not have repeats of image slices between the train and validation
sets – this would mess up our training metrics. Since the detector data can contain
empty tiles, we will not be copying those here. Instead, we prefer to generate our own
empty slices so we have precise cnotrol over which exist. We will first generate all the
background crops and copy the target crops into one folder, then we’ll shuffle them all
and split the data into 80% training and 20% validation.</p>
<dl class="function">
<dt id="hawk_eye.data_generation.create_clf_data.create_clf_images">
<code class="sig-prename descclassname">hawk_eye.data_generation.create_clf_data.</code><code class="sig-name descname">create_clf_images</code><span class="sig-paren">(</span><em class="sig-param">num_gen: int</em>, <em class="sig-param">save_dir: pathlib.Path = PosixPath('/home/runner/work/hawk-eye/hawk-eye/hawk_eye/data_generation/data')</em>, <em class="sig-param">val_fraction: float = 0.2</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/hawk_eye/data_generation/create_clf_data.html#create_clf_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hawk_eye.data_generation.create_clf_data.create_clf_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate data for the classifier model.</p>
</dd></dl>

<dl class="function">
<dt id="hawk_eye.data_generation.create_clf_data.single_clf_image">
<code class="sig-prename descclassname">hawk_eye.data_generation.create_clf_data.</code><code class="sig-name descname">single_clf_image</code><span class="sig-paren">(</span><em class="sig-param">image: PIL.Image.Image</em>, <em class="sig-param">number: int</em>, <em class="sig-param">num_gen: int</em>, <em class="sig-param">save_dir: pathlib.Path</em>, <em class="sig-param">num_tiles: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../_modules/hawk_eye/data_generation/create_clf_data.html#single_clf_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hawk_eye.data_generation.create_clf_data.single_clf_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice out crops from the original background image and save to disk. NOTE: we do
not have any overlap between adjacent tiles because we want to avoid having any
leakage between images. With data leakage, we might end up with two adjacent tiles in
both the train and eval set.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="create_detection_data.html" class="btn btn-neutral float-right" title="hawk_eye.data_generation.create_detection_data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../core/detector.html" class="btn btn-neutral float-left" title="hawk_eye.core.detector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, UAV Austin.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>